---
title: "Lecture 8"
subtitle: "Hipothesis guided model comparison"
author: "Psych 10 C"
institute: "University of California, Irvine"
date: "04/15/2022"
output:
  xaringan::moon_reader:
    self_contained: true
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

```{r xaringan-extra, echo = FALSE}
xaringanExtra::use_tile_view()

xaringanExtra::use_fit_screen()

xaringanExtra::use_editable(expires = 1)

xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)

htmltools::tagList(
  xaringanExtra::use_clipboard(
    button_text = "<i class=\"fa fa-clipboard\"></i>",
    success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
    error_text = "<i class=\"fa fa-times-circle\" style=\"color: #F94144\"></i>"
  ),
  rmarkdown::html_dependency_font_awesome()
)
```

```{r load-tidy, echo = FALSE, message = FALSE, warning = FALSE}
library(tidyverse)

knitr::opts_chunk$set(fig.width = 6, message = FALSE, 
                      warning = FALSE, comment = "", 
                      cache = F)
link <- "https://raw.githubusercontent.com/ManuelVU/psych-10c-data/main/drug_example.csv"
drug_trial <- read_csv(file = link) %>% 
  mutate("id" = as.character(id))
```

## Hypothesis as models

- When we have one independent variable that can take more than 2 values 
comparing a Null model which assumes that every group has the same expected value
with the effects model which assumes that every group has a different expected 
value is not enough to answer our research question.

--

- This is because the Effects model can be the better than the null in multiple
ways.

--

- For example, the Effects model will account for the data better if it is true 
that:

--
  1. If every group is different $\mu_1 \neq \mu_2 \neq \mu_3$.
  
  2. If at least one group is different $\mu_1 = \mu_2 \neq \mu_3$.
  
--

- Both of the previous statements are consistent whit the main assumption of 
the Effects model, which in isolation can only tell us that at least one 
group is different.

---

## Hypothesis as models

- As we showed with the anxiety example, we can reach an answer to our research
question by comparing multiple model, which assume that one group is different 
from the rest. We do this with each group one at a time.

--

- When our independent variable can take only 3 different values, this resulted
in us having to look at the predictions and errors of 5 different models.

--

- If we increase the number of goups (or values of our independent variable) 
this number will increase rapidly. For example, if we have 4 groups the number 
of models that we could compare is 9, and for 5 it grows to 17.

--

- We would prefer not to have to look at so many models every time we have more
than two groups.

--

- One way to reduce the number of models that we look at is by making our 
research question more precise.

---

## A better approach to comparing anxiety levels

- Going back to wour anxiety levels example, instead of asking the question: 

--

  - Are there any differences between the anxiety levels of First year students
  in the 218, 2019, and 2020 cohorts?
  
--

- We could ask the question: 

--

  - Are the anxiety levels of students from the 2020 cohort different from 
  students in 2019 and 2018?

--

- Notice that our new question is now centered around First year students on the 
2020 cohort and not on differences between all cohorts.

--

- In order to answer this question we only need to look at 3 models, first the
Null, then the Effects and finally the 2020 model from last class.

--

- Comparing Null and Effects model will tell us if there is at least one group
that is different. Then our 2020 model will answer our actual question, 
Are the anxiety levels of First year students in the 2020 cohort different from 
students in the 2018 and 2019 cohorts?

---

## Hypothesis and models

- Thus, just by redefining our experimental question we can reduce the number of 
comparisons that we have to make.

--

- In the previous example our second question makes more sense as there is no 
real reason to assume that 2018 and 2019 should be different, however, due 
to the pandemic, we would expect First year students from the 2020 cohort 
to be more anxious than others.

--

- One important thing to keep in mind is that we don't look for hypothesis that
will reduce the number of models that we need to compare. A hypothesis should 
always come first.

--

- In other words, we perform an experiment because we have a hypothesis 
regarding the outcomes of an experiment. This hypothesis will also inform our
model comparisons.

--

- As we mention before, this only becomes a problem when we have multiple groups
and not when there are only two.

---

class: inverse, center, middle

# Example

## New treatment for blood preasure

---

# Research problem:

- A pharmaceutical company is about to launch a new drug as a treatment for high 
blood pressure

--

- Before that, they have to show that their treatment works better than both a 
control substance (placebo) and the current standard of care (standard) 
treatment.

--

- They have designed an experiment where participants are randomly assigned to 
one of three groups. There will be 25 participants assigned to each group for
a total of 75.

--

- Given our objective, which models would you consider for a comparison?

.can-edit.key-likes[
Model 1:
  
Model 2:
  
Model 3:

Model 4:

Model 5: 
]

---

## Experiment

- For each participant the experimenters have recorded the blood pressure of 
each participant after 2 weeks of treatment. They have obtained the following 
data:

```{r show-data, echo = FALSE}
DT::datatable(data = drug_trial,
  fillContainer = FALSE, options = list(pageLength = 5))
```

---

## Models

- 





